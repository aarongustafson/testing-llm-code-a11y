<label for="fruits">What fruits do you like?</label><br>
<input type="checkbox" id="bananas" name="fruits" value="bananas" required>
<label for="bananas">Bananas</label><br>
<input type="checkbox" id="oranges" name="fruits" value="oranges">
<label for="oranges">Oranges</label><br>
<input type="checkbox" id="apples" name="fruits" value="apples">
<label for="apples">Apples</label><br>
<div style="display: none;" id="fruitsError">You must choose one or more fruits</div>
<script>
  document.querySelectorAll('[name="fruits"]').forEach(function(checkbox) {
    checkbox.addEventListener('invalid', function() {
      document.getElementById('fruitsError').style.display = 'block';
    });
    checkbox.addEventListener('change', function() {
      if (document.querySelectorAll('[name="fruits"]:checked').length) {
        document.getElementById('fruitsError').style.display = 'none';
        document.querySelectorAll('[name="fruits"]').forEach(function(chk) {
          chk.removeAttribute('required');
        });
      } else {
        document.getElementById('fruitsError').style.display = 'block';
        document.querySelector('[name="fruits"]').setAttribute('required', 'required');
      }
    });
  });
</script>